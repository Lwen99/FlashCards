@model List<CardDto> <!-- Assuming your model is a list of CardDto -->
@{
    int currentIndex = 0; // Start with the first card
}

<h1>Review Session</h1>

<div class="flashcard" style="width: 300px; height: 300px; position: relative; margin: auto;">
    <div class="card-inner btn" onclick="showNextCard()" style="position: absolute; width: 100%; height: 100%; transition: transform 0.6s; transform-style: preserve-3d;">
        <div class="card-front" style="background-color: lightblue; height: 100%; width: 100%; display: flex; justify-content: center; align-items: center; border: 1px solid #000; border-radius: 10px;">
            <h2 id="question">@Model[currentIndex].Question</h2>
        </div>
        <div class="card-back" style="background-color: lightcoral; height: 100%; width: 100%; display: flex; justify-content: center; align-items: center; border: 1px solid #000; border-radius: 10px; position: absolute; top: 0; left: 0; transform: rotateY(180deg); backface-visibility: hidden;">
            <h2 id="answer">@Model[currentIndex].Answer</h2>
        </div>
    </div>
</div>


<script>
    let currentIndex = 0;
    const cards = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(Model)); // Serialize model to JavaScript

    function showCard(index) {
        document.getElementById("question").innerText = cards[index].Question;
        document.getElementById("answer").innerText = cards[index].Answer;
        // Reset the card rotation to show the front
        document.querySelector('.card-inner').style.transform = 'rotateY(0deg)';
    }

    function showNextCard() {
        if (currentIndex < cards.length - 1) {
            currentIndex++;
            showCard(currentIndex);
        } else {
            alert("No more cards!");
        }
    }

    function showPrevCard() {
        if (currentIndex > 0) {
            currentIndex--;
            showCard(currentIndex);
        } else {
            alert("This is the first card!");
        }
    }
</script>

<style>
    .flashcard {
        perspective: 1000px;
    }

    .card-inner {
        transition: transform 0.6s;
        transform-style: preserve-3d;
    }

    .card-back {
        backface-visibility: hidden;
    }
</style>
